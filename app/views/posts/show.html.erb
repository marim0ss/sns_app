<div class="container-fluid center-content">

  <div class="card" style="width: 30rem;">
    <h2 class="card-header text-center">投稿の詳細</h2>
    <div class="card-body">
        <p>投稿者のID：<%= @post.user_id %></p>
        <!-- 内容 -->
        <p class="border-0 py-2 bg-light rounded text-info">
          <%= @post.content %>
        </p>

        <!-- いいね表示 ------------------------------------------ -->

          <% if Like.find_by(user_id: current_user.id, post_id: @post.id)  %>
          <p>
            <!-- いいねしてる状態 →いいねを取り消す-->
            <%= link_to("/likes/#{@post.id}/destroy", method: :delete) do %>
              <i class="fas fa-heart text-danger">
                <%= @likes_count %>
              </i>
            <% end %>
            いいねされています
          </p>
          <% else %>
          <p>
            <!-- いいねしてない状態 →いいねデータを作成する-->
            <%= link_to("/likes/#{@post.id}/create", method: :post) do %>
              <i class="far fa-heart text-danger">
                <%= @likes_count %>
              </i>
            <% end %>
            いいねする
          </p>
          <% end %>
        <!-- -------------------------------------------------- -->
        <hr>
        <p>投稿No.<%= @post.id %></p>
        <p>日時:<%= @post.created_at %></p>

        <hr>
        <p class="text-center">
        <%= link_to "編集", edit_post_path(@post.id) %>
        <%= link_to "一覧へ", posts_path %>
        <%= link_to "削除", post_path(@post.id), method: :delete,
                            data: {confirm: "この投稿を削除しますか？"} %>
        </p>
    </div>
  </div>
</div>
